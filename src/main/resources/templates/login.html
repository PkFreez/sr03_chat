<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/chat.css">
</head>
<body>
<div class="login-container">
    <form action="#" th:action="@{/login}" th:object="${user}" method="post">
        <p>mail <input type="text" th:field="*{mail}" /></p>
        <p>mdp <input type="text" th:field="*{password}" /></p>
        <p> admin <input type="checkbox" th:field="*{admin}" /></p> <!-- checkbox du bool admin -->
        <p id="error-message" style="display: block;"> Identifiants Incorrects. Veuillez r√©essayer.</p>
        <p><input type="submit" value="Connexion" /></p>
    </form>
</div>
<script>
    //S'il y a eu une erreur, montrer le message
    let loginError = /*[[${loginError} ?: false]]*/ false; // placeholder, attend la valeur du serveur. Si il n'y a rien, alors retourne "faux".
    if (loginError) {
        document.getElementById('error-message').style.display = 'block';
    }
</script>
</body>
</html>